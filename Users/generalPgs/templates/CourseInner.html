{% extends 'base.html' %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Second Page Of Course Create</title>
  <!-- custom link -->
  <link rel="stylesheet" href="{% static 'css/CourseInner.css' %}">
  <!-- Font Awesome CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <!-- font aw icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <!-- need to use JavaScript libraries or plugins specifically designed for rich text editing. One popular library for this purpose is called Quill.js. -->
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

</head>

<body>

  <div class="btn">
    <span class="fas fa-bars"></span>
  </div>

  <!-- start the sidebar section -->
  <nav class="sidebar">
    <!--name of the sidebar, which is the name of the course  -->
    <div class="text">Python Programming</div>
    <!-- sections + lessons part -->
    <ul>
      <!-- add section here: -->
      <li class="list-sidenev">
        <!-- title of the section -->
        <a href="#" class="a-sidenev feat-btn">Section 1: Introduction to Python
          <span class="fas fa-caret-down first"></span>
        </a>
        <!-- lessons part-->
        <ul class="feat-show">
          <li><a href="#">Lesson 1: Overview of Python and its features</a></li>
          <li><a href="#">Lesson 2: Installing Python and setting up the development environment</a></li>
          <li><a href="#">Lesson 3: Running Python programs</a></li>
          <li><a href="#" class="addLessonBtn">Add New Lesson</a></li> <!-- Added Add New Lesson Button -->
        </ul>
      </li>
      <li class="list-sidenev">
        <a href="#" class="a-sidenev serv-btn">Section 2: How to Create Classes
          <span class="fas fa-caret-down second"></span>
        </a>
        <ul class="serv-show">
          <li><a href="#">Lesson 1: Overview of Python and its features</a></li>
          <li><a href="#">Lesson 2: Installing Python and setting up the development environment</a></li>
          <li><a href="#">Lesson 3: Running Python programs</a></li>
          <li><a href="#" class="addLessonBtn">Add New Lesson</a></li> <!-- Added Add New Lesson Button -->
        </ul>
      </li>
      <li class="list-sidenev">
        <a href="#" class="a-sidenev serv-btn">Section 3: How to Call APIs
          <span class="fas fa-caret-down second"></span>
        </a>
        <ul class="serv-show">
          <li><a href="#">Lesson 1: Overview of Python and its features</a></li>
          <li><a href="#">Lesson 2: Installing Python and setting up the development environment</a></li>
          <li><a href="#" class="addLessonBtn">Add New Lesson</a></li> <!-- Added Add New Lesson Button -->
        </ul>
      </li>
    </ul>
  </nav>

  <div class="course-content">
    <img class="coures-inner-img" src="{% static 'images/home.jpg' %}" alt="">
    <div class="header">
      <h1 class="Course-Title">Python Programming for Beginners</h1>
      <div class="courese-info">
        <h3 class="Course-topic">Programming</h3>
        <h3 class="Course-deficality">Easy</h3>
      </div>
      <p class="Course-description">Python programming is a popular choice for beginners due to its readability and
        simplicity.
        It is versatile and used in various applications such as web development, data analysis, artificial
        intelligence, and more.</p>
      <button class="btn-theme" id="createSectionBtn">Add New Section</button>
    </div>
  </div>

  <!-- for add section  -->
  <div class="modal" id="createSectionModal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 class="title-create-Section">Add New Section<i class="fa-solid fa-microphone-lines"
          style="color: #513886;"></i></h2>
      <form id="sectionForm">
        <label class="label-Course" for="sectionTitle">Section Title:</label>
        <input class="Ctext" type="text" id="sectionTitle" name="sectionTitle" placeholder="Enter section title..">
        <button type="submit" class="createSectionBtn">Create</button>
      </form>
    </div>
  </div>

  <!-- for add lesson  -->
  <div class="modal" id="createLessonModal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 class="title-create-Lesson">Add New Lesson<i class="fa-solid fa-microphone-lines" style="color: #513886;"></i>
      </h2>
      <form id="lessonForm">
        <label class="label-Course" for="lessonTitle">Lesson Title:</label>
        <input class="Ctext" type="text" id="lessonTitle" name="lessonTitle" placeholder="Enter lesson title..">
        <button type="submit" class="createLessonBtn">Create</button>
      </form>
    </div>
  </div>
  <br>
  <!-- for the editor -->
  <div action="" class="form1">
    <!-- Replace the input field with textarea -->
    <textarea id="description" name="description" style="display: none;"></textarea>
    <!-- Add a div to hold the Quill editor -->
    <div id="editor-container"></div>
    <button class="btn-theme-inner">Edit</button>
  </div>
  <hr>

  <!-- for the Lesson Contet -->
  <section class="lesson-content">
    <div class="lesson-nav" id="stickyNav">
        <nav>
            <ul class="menu">
                <li><a href="#content">Content</a></li>
                <li><a href="#video">Video</a></li>
                <li><a href="#audio">Audio</a></li>
            </ul>
        </nav>
    </div>
    <h2 class="lesson-title">How to Create Classes</h2>
    <div class="lesson-content-list">
        <img class="lesson-image" src="{% static 'images/home.jpg' %}" alt="An image related to the lesson content">
        <hr>
        <p id="content" class="lesson-text">
            Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
            industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
            scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into
            electronic typesetting, remaining essentially unchanged. It was popularized in the 1960s with the release of
            Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like
            Aldus PageMaker including versions of Lorem Ipsum.
            <br><br>
            There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in
            some form, by injected humor, or randomized words which don't look even slightly believable. If you are going
            to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle
            of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making
            this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a
            handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem
            Ipsum is therefore always free from repetition, injected humor, or non-characteristic words, etc.
        </p>
        <div class="lesson-media">
          <video id="video" class="lesson-video" controls>
                <source src="#" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <audio id="audio" class="lesson-audio" controls>
                <source src="#" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
    </div>
</section>



  <script>
    $(document).ready(function () {
      // Sidebar toggle
      $('.btn').click(function () {
        $('.sidebar').toggleClass('collapsed');
      });

      // Show/hide nested menu
      $('.feat-btn').click(function () {
        $(this).next('.feat-show').slideToggle();
        $(this).find('.fa-caret-down').toggleClass('rotate');
      });

      $('.serv-btn').click(function () {
        $(this).next('.serv-show').slideToggle();
        $(this).find('.fa-caret-down').toggleClass('rotate');
      });


      // add lesson part
      $('.addLessonBtn').click(function () {
        $('#createLessonModal').css('display', 'block');
      });
    });
    // add section part
    document.getElementById("createSectionBtn").addEventListener("click", function () {
      document.getElementById("createSectionModal").style.display = "block";
    });

    document.getElementsByClassName("close")[0].addEventListener("click", function () {
      document.getElementById("createSectionModal").style.display = "none";
    });

    document.getElementsByClassName("close")[1].addEventListener("click", function () {
      document.getElementById("createLessonModal").style.display = "none";
    });

    window.addEventListener("click", function (event) {
      if (event.target == document.getElementById("createSectionModal")) {
        document.getElementById("createSectionModal").style.display = "none";
      }
      if (event.target == document.getElementById("createLessonModal")) {
        document.getElementById("createLessonModal").style.display = "none";
      }
    });
    // for sectiom
    document.getElementById("sectionForm").addEventListener("submit", function (event) {
      event.preventDefault();
      var sectionTitle = document.getElementById("sectionTitle").value;
      addNewSection(sectionTitle);
      document.getElementById("createSectionModal").style.display = "none";
    });
    // for the lesson
    document.getElementById("lessonForm").addEventListener("submit", function (event) {
      event.preventDefault();
      var lessonTitle = document.getElementById("lessonTitle").value;
      addNewLesson(lessonTitle);
      document.getElementById("createLessonModal").style.display = "none";
    });
    // add the created section to the sidebar
    function addNewSection(title) {
      var ul = document.querySelector(".sidebar ul");
      var li = document.createElement("li");
      var a = document.createElement("a");
      var textNode = document.createTextNode(title);
      a.appendChild(textNode);
      li.appendChild(a);
      ul.appendChild(li);
    }
    // add the created lesson to its section 
    function addNewLesson(title) {
      var ul = document.querySelector(".sidebar ul .active ul");
      var li = document.createElement("li");
      var a = document.createElement("a");
      var textNode = document.createTextNode(title);
      a.appendChild(textNode);
      li.appendChild(a);
      ul.appendChild(li);
    }

    // for the editor-------------------------------------------------------------
    // Initialize Quill.js on the editor container
    var quill = new Quill('#editor-container', {
      theme: 'snow' // Specify theme, 'snow' is one of the built-in themes
    });

    // Listen for form submission
    document.addEventListener('DOMContentLoaded', function () {
      document.querySelector('form').addEventListener('submit', function (event) {
        // Get Quill's HTML content
        var descriptionHtml = document.querySelector('.ql-editor').innerHTML;

        // Set the HTML content to the hidden input field
        var descriptionTextArea = document.querySelector('textarea[name="description"]');
        descriptionTextArea.value = descriptionHtml;
      });
    });

    // for the lesson content--------------------------------------
    document.addEventListener('DOMContentLoaded', function() {
    const menuItems = document.querySelectorAll('.menu li a');
    const contentSections = {
        content: document.getElementById('content'),
        video: document.getElementById('video'),
        audio: document.getElementById('audio'),
    };

    // Hide all sections initially
    function hideAllSections() {
        Object.values(contentSections).forEach(section => {
            section.classList.remove('active');
        });
        menuItems.forEach(item => item.classList.remove('active'));
    }

    // Function to handle menu item clicks
    function handleMenuClick(event) {
        event.preventDefault();
        const targetId = event.target.getAttribute('href').substring(1);
        const targetElement = contentSections[targetId];

        // Hide all sections
        hideAllSections();

        // Show the target section and mark link as active
        if (targetElement) {
            targetElement.classList.add('active');
            event.target.classList.add('active');
        }
    }

    // Add click event listeners to menu items
    menuItems.forEach(item => {
        item.addEventListener('click', handleMenuClick);
    });

    // Display the first section by default when the page loads
    if (menuItems.length > 0) {
        handleMenuClick({ target: menuItems[0], preventDefault: () => {} });
    }
});




  </script>

  <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
  <!-- custom js link -->
  <!-- <script src="{% static 'js/CourseInner.js' %}"></script> -->


</body>

</html>
{% endblock %}